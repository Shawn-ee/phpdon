(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-pages-channel-poster"],{"5c53":function(e,t,n){var a=n("c198");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("f9616df6",a,!0,{sourceMap:!1,shadowMode:!1})},"929c":function(e,t,n){"use strict";var a=n("5c53"),i=n.n(a);i.a},c198:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,"uni-page-body[data-v-67b243a6]{background:#fff}body.?%PAGE?%[data-v-67b243a6]{background:#fff}.code-img[data-v-67b243a6]{width:%?500?%;height:%?500?%;margin:%?50?% auto}.btns[data-v-67b243a6]{display:flex;justify-content:center;padding:%?15?%;background-color:#fff;margin-top:%?20?%}.save-btn[data-v-67b243a6]{width:%?690?%;height:%?80?%;line-height:%?80?%;margin:0 auto}.hideCanvasView[data-v-67b243a6]{position:relative}.hideCanvas[data-v-67b243a6]{position:absolute;left:%?-9999?%;top:%?-9999?%}",""]),e.exports=t},de06:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={lPainter:n("c2cc").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticStyle:{padding:"20rpx 0"}},[n("v-uni-view",{staticClass:"hideCanvasView"},[n("l-painter",{ref:"painter",staticClass:"hideCanvas",attrs:{useCORS:!0}})],1),e.src?[n("v-uni-image",{staticClass:"code-img",attrs:{src:e.src},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"btns"},[n("v-uni-button",{staticClass:"save-btn flex-center radius",style:{background:e.primaryColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage.apply(void 0,arguments)}}},[e._v("长按上图保存图片")])],1)]:e._e()],2)},r=[]},e7dc:function(e,t,n){"use strict";n.r(t);var a=n("de06"),i=n("f90e");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("929c");var c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"67b243a6",null,!1,a["a"],void 0);t["default"]=s.exports},ee6b:function(e,t,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("3835")),r=a(n("5530")),c=a(n("c7eb")),s=a(n("1da1")),u=n("26cb"),o={components:{},props:{},data:function(){return{src:"",options:"",poster:{}}},computed:(0,u.mapState)({primaryColor:function(e){return e.config.configInfo.primaryColor},configInfo:function(e){return e.config.configInfo},userInfo:function(e){return e.user.userInfo}}),onLoad:function(e){var t=this;return(0,s.default)((0,c.default)().mark((function e(){var n;return(0,c.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$jweixin.isWechat()){e.next=4;break}return e.next=3,t.$jweixin.initJssdk();case 3:t.$jweixin.wxReady((function(){t.$jweixin.hideOptionMenu()}));case 4:t.widget=t.$refs.canvas,t.$util.showLoading(),t.$util.setNavigationBarColor({bg:t.primaryColor}),n=t,setTimeout((function(){n.canvase()}),1e3);case 9:case"end":return e.stop()}}),e)})))()},methods:(0,r.default)((0,r.default)({},(0,u.mapActions)([])),{},{canvase:function(){var e=this;return(0,s.default)((0,c.default)().mark((function t(){var n,a,i;return(0,c.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.next=3,e.$api.channel.channelQr();case 3:a=t.sent,i={css:{width:"750rpx",height:"750rpx",background:"#ffffff"},views:[{type:"image",src:a,css:{width:"750rpx",height:"750rpx"}}]},e.$refs.painter.render(i),e.$refs.painter.canvasToTempFilePathSync({fileType:"jpg",quality:1,success:function(t){n.$util.hideAll(),e.src=t.tempFilePath,console.log(t.tempFilePath)}});case 7:case"end":return t.stop()}}),t)})))()},previewImage:function(){var e=this.src;uni.previewImage({current:e,urls:[e]})},saveImage:function(){var e=this;return(0,s.default)((0,c.default)().mark((function t(){var n,a,r,s;return(0,c.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$util.checkAuth({type:"writePhotosAlbum"});case 2:return n=e.src,t.next=5,uni.saveImageToPhotosAlbum({filePath:n});case 5:if(a=t.sent,r=(0,i.default)(a,2),s=r[0],r[1],!s){t.next=11;break}return t.abrupt("return");case 11:uni.showToast({icon:"none",title:"保存成功"});case 12:case"end":return t.stop()}}),t)})))()}})};t.default=o},f90e:function(e,t,n){"use strict";n.r(t);var a=n("ee6b"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a}}]);