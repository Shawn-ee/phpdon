webpackJsonp([23],{AZkK:function(e,t){},V21k:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("mvHQ"),a=r.n(i),s=r("Xxa5"),n=r.n(s),o=r("exGp"),l=r.n(o),u={data:function(){var e=this;return{checkList:[],authList:[{title:"微信提现",key:"wechat_transfer"},{title:"支付宝提现",key:"alipay_transfer"},{title:"线下提现",key:"under_transfer",tips:"用于用户、技师或代理商提现时选择到账方式"}],longOptions:[{id:3,title:"近3天"},{id:5,title:"近5天"},{id:7,title:"近7天"}],timeOptions:[{id:30,title:"半小时"},{id:60,title:"一小时"},{id:120,title:"两小时"}],subForm:{wechat_transfer:0,alipay_transfer:0,under_transfer:0,company_pay:1,over_time:"",time_interval:"",service_cover_time:"",max_day:"",time_unit:"",trading_rules:""},subFormRules:{checkList:{required:!0,validator:function(t,r,i){var a=e.subForm,s=a.wechat_transfer,n=void 0===s?0:s,o=a.alipay_transfer,l=void 0===o?0:o,u=a.under_transfer;n||l||u?i():i(new Error("请选择提现方式"))},trigger:["blur","change"]},company_pay:{required:!0,type:"number",message:"请选择转账方式",trigger:"blur"},over_time:{required:!0,validator:this.$reg.isNum,reg_type:2,text:"分钟数",trigger:"blur"},time_interval:{required:!0,validator:this.$reg.isNum,reg_type:2,text:"分钟数",trigger:"blur"},max_day:{required:!0,type:"number",message:"请选择最长预约",trigger:"blur"},time_unit:{required:!0,type:"number",message:"请选择时长单位",trigger:"blur"}}}},created:function(){this.getFormInfo()},methods:{getFormInfo:function(){var e=this;return l()(n.a.mark(function t(){var r,i,a,s,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.system.configInfo();case 2:if(r=t.sent,i=r.code,a=r.data,200===i){t.next=7;break}return t.abrupt("return");case 7:for(s in e.subForm)e.subForm[s]=a[s];o=[],e.authList.map(function(e){1===a[e.key]&&o.push(e.title)}),e.checkList=o;case 11:case"end":return t.stop()}},t,e)}))()},changeCheckBox:function(e){var t=this;this.authList.map(function(r){t.subForm[r.key]=e.includes(r.title)?1:0})},submitForm:function(){var e=this;return l()(n.a.mark(function t(){var r,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!1,e.$refs.subForm.validate(function(e){e&&(r=!0)}),i=JSON.parse(a()(e.subForm)),!r){t.next=7;break}return t.next=6,e.$api.system.configUpdate(i);case 6:e.$message.success(e.$t("tips.successSub"));case 7:case"end":return t.stop()}},t,e)}))()}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lb-system-transaction"},[r("top-nav"),e._v(" "),r("div",{staticClass:"page-main"},[r("lb-tips",[e._v("\n      系统默认用户订单处于待核销状态或完成订单后24小时内可申请退款\n    ")]),e._v(" "),r("el-form",{ref:"subForm",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"提现方式",prop:"checkList"}},[r("el-checkbox-group",{on:{change:e.changeCheckBox},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.authList,function(t,i){return r("div",{key:i,style:{display:"inline-block",marginLeft:0===i?0:"15px"}},[r("el-checkbox",{attrs:{label:t.title}}),e._v(" "),t.tips?r("lb-tool-tips",[e._v(e._s(t.tips))]):e._e()],1)}),0)],1),e._v(" "),r("el-form-item",{attrs:{label:"转账方式",prop:"company_pay"}},[r("el-radio-group",{model:{value:e.subForm.company_pay,callback:function(t){e.$set(e.subForm,"company_pay",t)},expression:"subForm.company_pay"}},[r("el-radio",{attrs:{label:1}},[e._v("企业转账")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("商家转账")])],1),e._v(" "),r("lb-tool-tips",[e._v("用于微信线上提现")])],1),e._v(" "),r("el-form-item",{attrs:{label:"订单超时",prop:"over_time"}},[r("el-input",{attrs:{placeholder:"请输入分钟"},model:{value:e.subForm.over_time,callback:function(t){e.$set(e.subForm,"over_time",e._n(t))},expression:"subForm.over_time"}},[r("template",{slot:"append"},[e._v("分钟")])],2),e._v(" "),r("lb-tool-tips",[e._v("订单未支付超时时间，超时将自动取消订单，单位：分钟")])],1),e._v(" "),r("el-form-item",{attrs:{label:"时间间隔",prop:"time_interval"}},[r("el-input",{attrs:{placeholder:"请输入分钟"},model:{value:e.subForm.time_interval,callback:function(t){e.$set(e.subForm,"time_interval",e._n(t))},expression:"subForm.time_interval"}},[r("template",{slot:"append"},[e._v("分钟")])],2),e._v(" "),r("lb-tool-tips",[e._v("技师结束上一单之后，与下一单的时间无间隔导致技师不能赶到下一个服务点\n          "),r("div",{staticClass:"mt-sm"},[e._v("可设置订单间隔，例如设置订单间隔为30分钟")]),e._v(" "),r("div",{staticClass:"mt-sm"},[e._v("\n            上一个订单预约时间是14:00-15:00，则下一个用户预约同一个技师的开始时间为15:30之后\n          ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"最长预约",prop:"max_day"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.subForm.max_day,callback:function(t){e.$set(e.subForm,"max_day",t)},expression:"subForm.max_day"}},e._l(e.longOptions,function(e){return r("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1),e._v(" "),r("lb-tool-tips",[e._v("客户预约服务选择时间时可选择的时间期限")])],1),e._v(" "),r("el-form-item",{attrs:{label:"时长单位",prop:"time_unit"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.subForm.time_unit,callback:function(t){e.$set(e.subForm,"time_unit",t)},expression:"subForm.time_unit"}},e._l(e.timeOptions,function(e){return r("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1),e._v(" "),r("lb-tool-tips",[e._v("划分工作时间的时间单位")])],1),e._v(" "),r("el-form-item",{attrs:{label:"交易规则",prop:"trading_rules"}},[r("lb-ueditor",{attrs:{destroy:!0,ueditorType:3},model:{value:e.subForm.trading_rules,callback:function(t){e.$set(e.subForm,"trading_rules",t)},expression:"subForm.trading_rules"}})],1),e._v(" "),r("el-form-item",[r("lb-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var c=r("VU/8")(u,m,!1,function(e){r("AZkK")},"data-v-fd24d13a",null);t.default=c.exports}});