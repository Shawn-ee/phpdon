webpackJsonp([45],{gZig:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("mvHQ"),s=r.n(o),a=r("Gu7T"),n=r.n(a),i=r("Xxa5"),u=r.n(i),p=r("exGp"),l=r.n(p),c={data:function(){return{subForm:{app_logo:[],app_text:""},subFormRules:{app_logo:{required:!0,type:"array",message:"请上传应用图标",trigger:"blur"},app_text:{required:!0,type:"string",message:"请输入应用名称",trigger:"blur"}}}},created:function(){this.getFormInfo()},methods:{getFormInfo:function(){var t=this;return l()(u.a.mark(function e(){var r,o,s,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.system.configInfo();case 2:if(r=e.sent,o=r.code,s=r.data,200===o){e.next=7;break}return e.abrupt("return");case 7:for(a in s.app_logo=s.app_logo?[{url:s.app_logo}]:[],t.subForm)t.subForm[a]=s[a];case 9:case"end":return e.stop()}},e,t)}))()},getCover:function(t,e){this.subForm[e]=t},selectedFiles:function(t,e){var r;(r=this.subForm[e]).push.apply(r,n()(t))},moveFiles:function(t,e){this.subForm[e]=t},submitForm:function(){var t=this;this.$refs.subForm.validate(function(e){if(e){var r=JSON.parse(s()(t.subForm));r.app_logo=r.app_logo[0].url,t.$api.system.configUpdate(r).then(function(e){200===e.code&&t.$message.success(t.$t("tips.successSub"))})}})}}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lb-system-wechat"},[r("top-nav"),t._v(" "),r("div",{staticClass:"page-main"},[r("el-form",{ref:"subForm",staticClass:"config-form",attrs:{model:t.subForm,rules:t.subFormRules,"label-width":"140px"},nativeOn:{submit:function(t){t.preventDefault()}}},[r("el-form-item",{attrs:{label:"应用图标",prop:"app_logo"}},[r("lb-cover",{attrs:{fileList:t.subForm.app_logo},on:{selectedFiles:function(e){return t.getCover(e,"app_logo")}}}),t._v(" "),r("lb-tool-tips",[t._v("用于登录页面展示")])],1),t._v(" "),r("el-form-item",{attrs:{label:"应用名称",prop:"app_text"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":"",placeholder:"请输入应用名称"},model:{value:t.subForm.app_text,callback:function(e){t.$set(t.subForm,"app_text",e)},expression:"subForm.app_text"}}),t._v(" "),r("lb-tool-tips",[t._v("用于登录页面展示")])],1),t._v(" "),r("el-form-item",[r("lb-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var f=r("VU/8")(c,m,!1,function(t){r("wGEQ")},"data-v-6f88e286",null);e.default=f.exports},wGEQ:function(t,e){}});