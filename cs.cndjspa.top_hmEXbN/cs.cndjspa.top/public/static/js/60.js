webpackJsonp([60],{EEXx:function(e,t){},yED0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("mvHQ"),s=r.n(o),a=r("Xxa5"),u=r.n(a),l=r("exGp"),n=r.n(l),i={data:function(){var e=this;return{subForm:{short_sign:"",order_short_code:"",refund_short_code:"",help_short_code:"",short_code_status:0,short_code:""},subFormRules:{short_sign:{required:!0,validator:this.$reg.isNotNull,text:"签名",reg_type:2,trigger:"blur"},order_short_code:{required:!0,validator:this.$reg.isNotNull,text:"下单模板CODE",reg_type:2,trigger:"blur"},refund_short_code:{required:!0,validator:this.$reg.isNotNull,text:"退单模板CODE",reg_type:2,trigger:"blur"},help_short_code:{required:!0,validator:this.$reg.isNotNull,text:"求救通知模板CODE",reg_type:2,trigger:"blur"},short_code_status:{required:!0,type:"number",message:"请选择是否启用短信模板",trigger:"blur"},short_code:{required:!0,validator:function(t,r,o){1!==e.subForm.short_code_status||e.subForm.short_code?o():o(new Error("请输入短信模板CODE"))},trigger:"blur"}}}},created:function(){var e=this;return n()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDetail();case 2:case"end":return t.stop()}},t,e)}))()},methods:{getDetail:function(){var e=this;return n()(u.a.mark(function t(){var r,o,s,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.system.shortCodeConfigInfo();case 2:if(r=t.sent,o=r.code,s=r.data,200===o){t.next=7;break}return t.abrupt("return");case 7:for(a in e.subForm)e.subForm[a]=s[a];case 8:case"end":return t.stop()}},t,e)}))()},submitFormInfo:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=JSON.parse(s()(t.subForm));t.$api.system.shortCodeConfigUpdate(r).then(function(e){200===e.code&&t.$message.success(t.$t("tips.successSub"))})}})}}},_={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lb-group-news"},[r("top-nav"),e._v(" "),r("div",{staticClass:"page-main"},[r("el-form",{ref:"subForm",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"160px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"签名",prop:"short_sign"}},[r("el-input",{attrs:{placeholder:"请输入签名"},model:{value:e.subForm.short_sign,callback:function(t){e.$set(e.subForm,"short_sign",t)},expression:"subForm.short_sign"}}),e._v(" "),r("lb-tool-tips",[e._v("签名在阿里云短信签名管理处查看")])],1),e._v(" "),r("el-form-item",{attrs:{label:"下单模板CODE",prop:"order_short_code"}},[r("el-input",{attrs:{placeholder:"请输入下单模板CODE"},model:{value:e.subForm.order_short_code,callback:function(t){e.$set(e.subForm,"order_short_code",t)},expression:"subForm.order_short_code"}}),e._v(" "),r("lb-tool-tips",[e._v("短信模板CODE, 如: SMS_129755997")])],1),e._v(" "),r("el-form-item",{attrs:{label:"退单模板CODE",prop:"refund_short_code"}},[r("el-input",{attrs:{placeholder:"请输入下单模板CODE"},model:{value:e.subForm.refund_short_code,callback:function(t){e.$set(e.subForm,"refund_short_code",t)},expression:"subForm.refund_short_code"}}),e._v(" "),r("lb-tool-tips",[e._v("短信模板CODE, 如: SMS_129755997")])],1),e._v(" "),r("el-form-item",{attrs:{label:"求救通知模板CODE",prop:"help_short_code"}},[r("el-input",{attrs:{placeholder:"请输入求救通知模板CODE"},model:{value:e.subForm.help_short_code,callback:function(t){e.$set(e.subForm,"help_short_code",t)},expression:"subForm.help_short_code"}}),e._v(" "),r("lb-tool-tips",[e._v("短信模板CODE, 如: SMS_129755997")])],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用短信模板",prop:"short_code_status"}},[r("el-radio-group",{model:{value:e.subForm.short_code_status,callback:function(t){e.$set(e.subForm,"short_code_status",t)},expression:"subForm.short_code_status"}},[r("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("action.ON")))]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("action.OFF")))])],1),e._v(" "),r("lb-tool-tips",[e._v("开启后，必须配置短信模板CODE,\n          用于手机端；下单时若用户没有授权手机号，则通过短信验证码收集手机号码")])],1),e._v(" "),1===e.subForm.short_code_status?r("el-form-item",{attrs:{label:"短信模板CODE",prop:"short_code"}},[r("el-input",{attrs:{placeholder:"请输入短信模板CODE"},model:{value:e.subForm.short_code,callback:function(t){e.$set(e.subForm,"short_code",t)},expression:"subForm.short_code"}}),e._v(" "),r("lb-tool-tips",[e._v("短信模板CODE, 如: SMS_129755997，用于发送短信验证码")])],1):e._e(),e._v(" "),r("el-form-item",[r("lb-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("subForm")}}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var c=r("VU/8")(i,_,!1,function(e){r("EEXx")},"data-v-517871a6",null);t.default=c.exports}});