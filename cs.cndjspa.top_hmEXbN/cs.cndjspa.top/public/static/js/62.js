webpackJsonp([62],{"Ee/O":function(e,t){},L7bo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lb-system-notice"},[r("top-nav"),e._v(" "),r("div",{staticClass:"page-main"},[r("el-form",{attrs:{"label-width":"180px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{required:"",label:"请选择通知类型"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.notice_switch,callback:function(t){e.notice_switch=t},expression:"notice_switch"}},e._l(e.options,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:1===e.notice_switch,expression:"notice_switch === 1"}],ref:"publicForm",staticClass:"baseform",attrs:{model:e.publicForm,rules:e.publicFormRules,"label-width":"180px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"AppID",prop:"gzh_appid"}},[r("el-input",{attrs:{placeholder:"请输入AppID"},model:{value:e.publicForm.gzh_appid,callback:function(t){e.$set(e.publicForm,"gzh_appid",t)},expression:"publicForm.gzh_appid"}}),e._v(" "),r("lb-tool-tips",[e._v("与这个小程序关联的微信公众号的AppID，注意不是小程序的AppID")])],1),e._v(" "),r("el-form-item",{attrs:{label:"下单通知模板ID",prop:"order_tmp_id"}},[r("el-input",{attrs:{placeholder:"请输入下单通知模板ID"},model:{value:e.publicForm.order_tmp_id,callback:function(t){e.$set(e.publicForm,"order_tmp_id",t)},expression:"publicForm.order_tmp_id"}}),e._v(" "),r("lb-tool-tips",[e._v("与这个小程序关联的微信公众号里面添加的下单通知模板消息ID，与服务通知的模板ID类似")])],1),e._v(" "),r("el-form-item",{attrs:{label:"取消预约通知模板ID",prop:"cancel_tmp_id"}},[r("el-input",{attrs:{placeholder:"请输入取消预约通知模板ID"},model:{value:e.publicForm.cancel_tmp_id,callback:function(t){e.$set(e.publicForm,"cancel_tmp_id",t)},expression:"publicForm.cancel_tmp_id"}}),e._v(" "),r("lb-tool-tips",[e._v("与这个小程序关联的微信公众号里面添加的退款通知模板消息ID，与服务通知的模板ID类似")])],1),e._v(" "),r("el-form-item",{attrs:{label:"技师信息编辑通知模板ID",prop:"coachupdate_tmp_id"}},[r("el-input",{attrs:{placeholder:"请输入技师信息编辑通知模板ID"},model:{value:e.publicForm.coachupdate_tmp_id,callback:function(t){e.$set(e.publicForm,"coachupdate_tmp_id",t)},expression:"publicForm.coachupdate_tmp_id"}}),e._v(" "),r("lb-tool-tips",[e._v("与这个小程序关联的微信公众号里面添加的技师信息编辑通知模板ID，与服务通知的模板ID类似")])],1),e._v(" "),r("el-form-item",{attrs:{label:"技师求救通知模板ID",prop:"help_tmpl_id"}},[r("el-input",{attrs:{placeholder:"请输入技师求救通知模板ID"},model:{value:e.publicForm.help_tmpl_id,callback:function(t){e.$set(e.publicForm,"help_tmpl_id",t)},expression:"publicForm.help_tmpl_id"}}),e._v(" "),r("lb-tool-tips",[e._v("与这个小程序关联的微信公众号里面添加的技师求救通知模板ID，与服务通知的模板ID类似")])],1),e._v(" "),r("el-form-item",[r("lb-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFrom("publicForm")}}},[e._v(e._s(e.$t("action.submit")))])],1)],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:2===e.notice_switch,expression:"notice_switch === 2"}],ref:"enterpriseForm",staticClass:"baseform",attrs:{model:e.enterpriseForm,rules:e.enterpriseFormRules,"label-width":"150px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"企业微信ID",prop:"corpid"}},[r("el-input",{attrs:{placeholder:"请输入企业微信ID"},model:{value:e.enterpriseForm.corpid,callback:function(t){e.$set(e.enterpriseForm,"corpid",t)},expression:"enterpriseForm.corpid"}}),e._v(" "),r("lb-tool-tips",[e._v("每个企业都拥有唯一的corpid")])],1),e._v(" "),r("el-form-item",{attrs:{label:"应用密匙",prop:"corpsecret"}},[r("el-input",{attrs:{placeholder:"请输入应用密匙"},model:{value:e.enterpriseForm.corpsecret,callback:function(t){e.$set(e.enterpriseForm,"corpsecret",t)},expression:"enterpriseForm.corpsecret"}}),e._v(" "),r("lb-tool-tips",[e._v("在企业微信中，将自己的小程序添加到应用就可以查看应用密匙")])],1),e._v(" "),r("el-form-item",{attrs:{label:"企业应用ID",prop:"agentid"}},[r("el-input",{attrs:{placeholder:"请输入企业应用ID"},model:{value:e.enterpriseForm.agentid,callback:function(t){e.$set(e.enterpriseForm,"agentid",t)},expression:"enterpriseForm.agentid"}}),e._v(" "),r("lb-tool-tips",[e._v("企业应用ID，在企业微信应用与小程序中查看")])],1),e._v(" "),r("el-form-item",[r("lb-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFrom("enterpriseForm")}}},[e._v(e._s(e.$t("action.submit")))])],1)],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:4===e.notice_switch,expression:"notice_switch === 4"}],ref:"miniForm",staticClass:"baseform",attrs:{model:e.miniForm,rules:e.miniFormRules,"label-width":"150px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"企业微信ID",prop:"yq_corpid"}},[r("el-input",{attrs:{placeholder:"请输入企业微信ID"},model:{value:e.miniForm.yq_corpid,callback:function(t){e.$set(e.miniForm,"yq_corpid",t)},expression:"miniForm.yq_corpid"}}),e._v(" "),r("lb-tool-tips",[e._v("每个企业都拥有唯一的corpid")])],1),e._v(" "),r("el-form-item",{attrs:{label:"应用密匙",prop:"yq_corpsecret"}},[r("el-input",{attrs:{placeholder:"请输入应用密匙"},model:{value:e.miniForm.yq_corpsecret,callback:function(t){e.$set(e.miniForm,"yq_corpsecret",t)},expression:"miniForm.yq_corpsecret"}}),e._v(" "),r("lb-tool-tips",[e._v("在企业微信应用中点击对应小程序查看应用密匙")])],1),e._v(" "),r("el-form-item",{attrs:{label:"企业应用ID",prop:"yq_agentid"}},[r("el-input",{attrs:{placeholder:"请输入企业应用ID"},model:{value:e.miniForm.yq_agentid,callback:function(t){e.$set(e.miniForm,"yq_agentid",t)},expression:"miniForm.yq_agentid"}}),e._v(" "),r("lb-tool-tips",[e._v("企业应用ID，在企业微信应用与小程序中查看")])],1),e._v(" "),r("el-form-item",[r("lb-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFrom("miniForm")}}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var o=r("VU/8")({data:function(){return{options:[{value:1,label:"公众号通知"}],notice_switch:1,miniForm:{yq_corpid:"",yq_corpsecret:"",yq_agentid:"",notice_switch:4},miniFormRules:{yq_corpid:{required:!0,message:"请输入",type:"string",trigger:"blur"},yq_corpsecret:{required:!0,message:"请输入",type:"string",trigger:"blur"},yq_agentid:{required:!0,message:"请输入",type:"string",trigger:"blur"},notice_switch:{required:!0,message:"请选择",type:"number",trigger:"change"}},enterpriseForm:{corpid:"",corpsecret:"",agentid:"",notice_switch:2},enterpriseFormRules:{corpid:{required:!0,message:"请输入",type:"string",trigger:"blur"},corpsecret:{required:!0,message:"请输入",type:"string",trigger:"blur"},agentid:{required:!0,message:"请输入",type:"string",trigger:"blur"},notice_switch:{required:!0,message:"请选择",type:"number",trigger:"change"}},publicForm:{gzh_appid:"",order_tmp_id:"",cancel_tmp_id:"",coachupdate_tmp_id:"",help_tmpl_id:""},publicFormRules:{gzh_appid:{required:!0,message:"请输入AppID",type:"string",trigger:"blur"},order_tmp_id:{required:!0,message:"请输入下单通知模板ID",type:"string",trigger:"blur"},cancel_tmp_id:{required:!0,message:"请输入取消预约通知模板ID",type:"string",trigger:"blur"},coachupdate_tmp_id:{required:!0,message:"请输入技师信息编辑通知模板ID",type:"string",trigger:"blur"},help_tmpl_id:{required:!0,message:"请输入技师求救通知模板ID",type:"string",trigger:"blur"},notice_switch:{required:!0,message:"请选择",type:"number",trigger:"change"}}}},created:function(){this.getFormInfo()},methods:{getFormInfo:function(){var e=this;this.$api.system.sendMsgConfigInfo().then(function(t){if(200===t.code)for(var r=["publicForm"],i=0,o=r.length;i<o;i++)for(var l in e[r[i]])e[r[i]][l]=t.data[l]})},submitFrom:function(e){var t=this;this.$refs[e].validate(function(r){if(r){var i=t[e];t.$api.system.sendMsgConfigUpdate(i).then(function(e){200===e.code&&(t.$message.success(t.$t("tips.successSub")),t.getFormInfo())})}})}}},i,!1,function(e){r("Ee/O")},"data-v-49309c12",null);t.default=o.exports}});