webpackJsonp([63],{"209y":function(e,t){},uAII:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("mvHQ"),a=r.n(s),o=r("Xxa5"),i=r.n(o),n=r("exGp"),p=r.n(n),c={data:function(){return{subForm:{web_app_id:"",web_app_secret:"",map_secret:"",web_code_img:[]},subFormRules:{web_app_id:{required:!0,validator:this.$reg.isNotNull,text:"公众号AppID",reg_type:2,trigger:"blur"},web_app_secret:{required:!0,validator:this.$reg.isNotNull,text:"公众号AppSecret",reg_type:2,trigger:"blur"},map_secret:{required:!0,validator:this.$reg.isNotNull,text:"腾讯地图key",reg_type:2,trigger:"blur"},web_code_img:{required:!0,type:"array",message:"请上传公众号二维码",trigger:"blur"}}}},created:function(){this.getFormInfo()},methods:{getCover:function(e,t){this.subForm[t]=e},getFormInfo:function(){var e=this;return p()(i.a.mark(function t(){var r,s,a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.system.configInfo();case 2:if(r=t.sent,s=r.code,a=r.data,200===s){t.next=7;break}return t.abrupt("return");case 7:for(o in a.web_code_img=a.web_code_img?[{url:a.web_code_img}]:[],e.subForm)e.subForm[o]=a[o];case 9:case"end":return t.stop()}},t,e)}))()},submitForm:function(){var e=this;this.$refs.subForm.validate(function(t){if(t){var r=JSON.parse(a()(e.subForm));r.web_code_img=r.web_code_img[0].url,e.$api.system.configUpdate(r).then(function(t){200===t.code&&e.$message.success(e.$t("tips.successSub"))})}})}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lb-system-wechat"},[r("top-nav"),e._v(" "),r("div",{staticClass:"page-main"},[r("el-form",{ref:"subForm",staticClass:"config-form",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"AppID",prop:"web_app_id"}},[r("el-input",{attrs:{placeholder:"请输入公众号AppID"},model:{value:e.subForm.web_app_id,callback:function(t){e.$set(e.subForm,"web_app_id",t)},expression:"subForm.web_app_id"}}),e._v(" "),r("lb-tool-tips",[e._v("请输入公众号AppID，输入错误会影响H5的正常使用，谨慎修改")])],1),e._v(" "),r("el-form-item",{attrs:{label:"AppSecret",prop:"web_app_secret"}},[r("el-input",{attrs:{placeholder:"请输入公众号AppSecret"},model:{value:e.subForm.web_app_secret,callback:function(t){e.$set(e.subForm,"web_app_secret",t)},expression:"subForm.web_app_secret"}}),e._v(" "),r("lb-tool-tips",[e._v("请输入公众号AppSecret，输入错误会影响H5的正常使用，谨慎修改")])],1),e._v(" "),r("el-form-item",{attrs:{label:"腾讯地图key",prop:"map_secret"}},[r("el-input",{attrs:{placeholder:"请输入腾讯地图key"},model:{value:e.subForm.map_secret,callback:function(t){e.$set(e.subForm,"map_secret",t)},expression:"subForm.map_secret"}}),e._v(" "),r("lb-tool-tips",[e._v("请输入腾讯地图key，输入错误会影响H5的正常使用，谨慎修改")])],1),e._v(" "),r("el-form-item",{attrs:{label:"公众号二维码",prop:"web_code_img"}},[r("lb-cover",{attrs:{fileList:e.subForm.web_code_img},on:{selectedFiles:function(t){return e.getCover(t,"web_code_img")}}}),e._v(" "),r("lb-tool-tips",[e._v("图片建议尺寸：750 * n(高度不限)\n          "),r("div",{staticClass:"mt-sm"},[e._v("\n            商家/平台需要自己上传自己设计好的公众号二维码海报图，用户进入h5之前可以先关注公众号\n          ")]),e._v(" "),r("div",{staticClass:"mt-sm"},[e._v("\n            用户扫描分销商的推广海报，就会直接跳转到引导用户关注公众号的页面\n          ")])]),e._v(" "),r("div"),e._v(" "),r("a",{staticClass:"c-link cursor-pointer",attrs:{href:"https://docs.qq.com/doc/DWXlGeVlWdlhOTnh6",target:"_blank"}},[e._v("如何获取公众号二维码？")])],1),e._v(" "),r("el-form-item",[r("lb-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var u=r("VU/8")(c,l,!1,function(e){r("209y")},"data-v-48b269da",null);t.default=u.exports}});