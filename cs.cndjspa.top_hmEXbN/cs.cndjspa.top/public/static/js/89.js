webpackJsonp([89],{C3LR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),i=a.n(r),s=a("exGp"),n=a.n(s),l=a("mvHQ"),o=a.n(l),c=a("PJh5"),u=a.n(c),m={data:function(){return{cityType:{3:{type:"success",text:"省"},1:{type:"primary",text:"城市"},2:{type:"danger",text:"区县"}},loading:{list:!1,user:!1,pid:!1},searchForm:{list:{page:1,limit:10,username:"",nickName:""},user:{page:1,limit:10,nickName:""},pid:{page:1,limit:10,nickName:"",city_id:""}},tableData:{list:[],user:[],pid:[]},total:{list:0,user:0,pid:0},currentRow:{},base_city:[],showDialog:{sub:!1,user:!1,pid:!1,rule:!1},subForm:{id:0,username:"",passwd_text:"",phone:"",city_type:1,city_id:"",city_data:[],balance:"",admin_pid:"",admin_ptitle:"",level_balance:"",user_id:"",nickName:""},subFormRules:{username:{required:!0,validator:this.$reg.isNotNull,reg_type:2,text:"账号",trigger:"blur"},passwd_text:{required:!0,type:"string",message:"请输入密码",trigger:"blur"},phone:{required:!0,validator:this.$reg.isAllPhone,text:"服务电话",trigger:"blur"},city_type:{required:!0,type:"number",message:"请选择代理等级",trigger:"blur"},balance:{required:!0,type:"number",message:"请输入平台抽成",trigger:"blur"},user_id:{required:!0,type:"number",message:"请选择关联用户",trigger:"blur"}}}},created:function(){this.getTableDataList(1,"list")},methods:{resetForm:function(t){var e=t+"Form";this.$refs[e].resetFields(),this.getTableDataList(1,t)},handleSizeChange:function(t,e){this.searchForm[e].limit=t,this.handleCurrentChange(1,e)},handleCurrentChange:function(t,e){this.searchForm[e].page=t,this.getTableDataList("",e)},getTableDataList:function(t,e){var a=this;t&&(this.searchForm[e].page=1),this.loading[e]=!0;var r=JSON.parse(o()(this.searchForm[e]));if("pid"===e){var i=JSON.parse(o()(this.subForm)),s=i.id,n=void 0===s?0:s,l=i.city_type,c=i.city_data;r.id=n,1!==l&&c.splice(c.length-1,1),r.city_id=1===l?[c[0]]:c}var u={list:"franchiseeList",user:"userList",pid:"franchiseeList"}[e];this.$api.agent[u](r).then(function(t){if(a.loading[e]=!1,200===t.code){var r=t.data,i=r.data,s=r.total;a.tableData[e]=i,a.total[e]=s}})},toShowDialog:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n()(i.a.mark(function r(){var s,n,l,c,u;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=JSON.parse(o()(a)),"user"!==t&&"pid"!==t){r.next=10;break}if("user"===t&&(e.searchForm.user.nickName=""),"pid"!==t){r.next=8;break}if(s=e.subForm,n=s.city_type,l=void 0===n?3:n,c=s.city_data,!(1===l&&c.length<2||2===l&&c.length<3)){r.next=8;break}return e.$message.error("请选择"+e.cityType[l].text),r.abrupt("return");case 8:return r.next=10,e.getTableDataList(1,t);case 10:if("sub"!==t){r.next=15;break}for(u in a.id||(a={city_type:3,city_data:[]}),e[t+"Form"])e[t+"Form"][u]=a[u];return r.next=15,e.getCityList();case 15:e.showDialog[t]=!0;case 16:case"end":return r.stop()}},r,e)}))()},getCityList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n()(i.a.mark(function a(){var r,s,n,l,o,c,u;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.subForm,s=r.city_type,n=void 0===s?3:s,l=r.city_data,e&&(1===e&&l.length>2&&l.splice(2,1),3===e&&l.length>0&&(l=[l[0]]),t.subForm.city_data=l),a.next=4,t.$api.system.citySelect({city_type:3});case 4:if(o=a.sent,c=o.code,u=o.data,200===c){a.next=9;break}return a.abrupt("return");case 9:u.map(function(t){3===n&&delete t.children,t.children&&t.children.map(function(t){1!==n&&0!==t.children.length||delete t.children})}),t.base_city=u;case 11:case"end":return a.stop()}},a,t)}))()},handleTableChange:function(t,e){var a=t=JSON.parse(o()(t)),r=a.id,i=a.nickName,s=a.username,n=void 0===s?"":s;"pid"===e?t.admin_ptitle=n:t.nickName=i||"用户ID "+r,this.currentRow=t},submitForm:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n()(i.a.mark(function r(){var s,n,l,c,u,m,p,d,b,_,h,v,g,f,y;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=!0,1===a&&e.$refs[t+"Form"].validate(function(t){t||(s=!1)}),!s){r.next=38;break}if("sub"===t){r.next=11;break}if(null!==e.currentRow&&e.currentRow.id){r.next=7;break}return e.$message.error("user"===t?"请选择用户":"请选择上级代理"),r.abrupt("return");case 7:return n=e.currentRow,l=n.id,c=void 0===l?0:l,u=n.nickName,m=void 0===u?"":u,p=n.username,d=void 0===p?"":p,"user"===t?(e.subForm.user_id=c,e.subForm.nickName=m):(e.subForm.admin_pid=c,e.subForm.admin_ptitle=d),e.showDialog[t]=!1,r.abrupt("return");case 11:if(b=e.cityType,!((_=JSON.parse(o()(e[t+"Form"]))).username.length<2||_.passwd_text.length<6)){r.next=16;break}return e.$message.error(_.username.length<2?"账号不能少于2位数":"密码不能少于6位数"),r.abrupt("return");case 16:if(h=_.city_type,v=_.city_data,!(1===h&&v.length<2||2===h&&v.length<3||3===h&&0===v.length)){r.next=20;break}return e.$message.error("请选择"+b[h].text),r.abrupt("return");case 20:if(_.city_id=v[v.length-1],g=100-1*_.balance,!(_.admin_pid&&1*_.level_balance>=g)){r.next=25;break}return e.$message.error("上级代理抽成不能大于或等于当前代理提成 (当前代理提成"+g+"%)"),r.abrupt("return");case 25:return delete _.city_data,delete _.admin_ptitle,delete _.nickName,f=_.id?"adminUpdate":"adminAdd",r.next=31,e.$api.agent[f](_);case 31:if(y=r.sent,200===y.code){r.next=35;break}return r.abrupt("return");case 35:e.$message.success(e.$t(_.id?"tips.successRev":"tips.successSub")),e.showDialog[t]=!1,e.getTableDataList("","list");case 38:case"end":return r.stop()}},r,e)}))()},confirmDel:function(t){var e=this;this.$confirm(this.$t("tips.franchiseeDelete"),this.$t("tips.reminder"),{confirmButtonText:this.$t("action.comfirm"),cancelButtonText:this.$t("action.cancel"),type:"warning"}).then(function(){e.$api.agent.adminStatusUpdate({id:t,status:"-1"}).then(function(t){e.$message.success(e.$t("tips.successDel")),e.searchForm.list.page=e.searchForm.list.page<Math.ceil((e.total.list-1)/e.searchForm.list.limit)?e.searchForm.list.page:Math.ceil((e.total.list-1)/e.searchForm.list.limit),e.getTableDataList("","list")})})}},filters:{handleTime:function(t,e){return 1===e?u()(1e3*t).format("YYYY-MM-DD"):2===e?u()(1e3*t).format("HH:mm:ss"):u()(1e3*t).format("YYYY-MM-DD HH:mm:ss")}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lb-shop-order"},[a("top-nav"),t._v(" "),a("div",{staticClass:"page-main"},[a("el-row",{staticClass:"page-search-form"},[a("el-form",{ref:"listForm",attrs:{inline:!0,model:t.searchForm.list},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"账号名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号名称"},model:{value:t.searchForm.list.username,callback:function(e){t.$set(t.searchForm.list,"username",e)},expression:"searchForm.list.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关联用户",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入关联用户"},model:{value:t.searchForm.list.nickName,callback:function(e){t.$set(t.searchForm.list,"nickName",e)},expression:"searchForm.list.nickName"}})],1),t._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getTableDataList(1,"list")}}},[t._v(t._s(t.$t("action.search")))]),t._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(e){return t.resetForm("list")}}},[t._v(t._s(t.$t("action.reset")))])],1)],1)],1),t._v(" "),a("el-row",{staticClass:"page-top-operate"},[a("lb-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.toShowDialog("sub")}}},[t._v(t._s(t.$t("menu.AgentAccountAdd")))])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.list,expression:"loading.list"}],staticStyle:{width:"100%"},attrs:{data:t.tableData.list,"header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",fixed:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"账号名称","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"passwd_text",label:"账号密码","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city_type",label:"代理等级","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.cityType[e.row.city_type].type}},[t._v(t._s(t.cityType[e.row.city_type].text))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"省/城市/区县","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n            "+t._s(3===e.row.city_type?e.row.province:1===e.row.city_type?e.row.city_id?e.row.province+" "+e.row.city:"-":e.row.city_id?e.row.province+" "+e.row.city+" "+e.row.area:"-")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"关联用户ID","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"关联用户昵称","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"服务电话","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"平台抽成比例","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.balance)+"%")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"admin_pid",label:"上级代理账号名称","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.admin_pid?e.row.admin_ptitle:"-"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"上级代理抽成","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n            "+t._s(e.row.admin_pid?e.row.level_balance+"%":"-")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(t._f("handleTime")(e.row.create_time,1)))]),t._v(" "),a("p",[t._v(t._s(t._f("handleTime")(e.row.create_time,2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"table-operate"},[a("lb-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.toShowDialog("sub",e.row)}}},[t._v(t._s(t.$t("action.edit")))]),t._v(" "),a("lb-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return t.confirmDel(e.row.id)}}},[t._v(t._s(t.$t("action.delete")))])],1)]}}])})],1),t._v(" "),a("lb-page",{attrs:{batch:!1,page:t.searchForm.list.page,pageSize:t.searchForm.list.limit,total:t.total.list},on:{handleSizeChange:function(e){return t.handleSizeChange(e,"list")},handleCurrentChange:function(e){return t.handleCurrentChange(e,"list")}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.$t(t.subForm.id?"menu.AgentAccountEdit":"menu.AgentAccountAdd"),visible:t.showDialog.sub,width:"770px",center:"","append-to-body":!0},on:{"update:visible":function(e){return t.$set(t.showDialog,"sub",e)}}},[a("lb-tips",[a("p",{staticClass:"c-link"},[t._v("\n        提成方式计算规则：技师提成 > 分销商提成 > 平台提成 > 省代理商 >\n        城市代理商 > 区县代理商\n      ")]),t._v(" "),a("p",{staticClass:"c-warning mt-sm",staticStyle:{"margin-left":"125px"},on:{click:function(e){return t.toShowDialog("rule")}}},[t._v("\n        点击查看具体规则\n      ")])]),t._v(" "),a("el-form",{ref:"subForm",staticClass:"dialog-form",attrs:{model:t.subForm,rules:t.subFormRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号",maxlength:"20","show-word-limit":""},model:{value:t.subForm.username,callback:function(e){t.$set(t.subForm,"username",e)},expression:"subForm.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"passwd_text"}},[a("el-input",{attrs:{placeholder:"请输入密码",maxlength:"20","show-word-limit":""},model:{value:t.subForm.passwd_text,callback:function(e){t.$set(t.subForm,"passwd_text",e)},expression:"subForm.passwd_text"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"代理等级",prop:"city_type"}},[a("el-radio-group",{on:{change:function(e){return t.getCityList(e)}},model:{value:t.subForm.city_type,callback:function(e){t.$set(t.subForm,"city_type",e)},expression:"subForm.city_type"}},[a("el-radio",{attrs:{label:3}},[t._v("省代理")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("城市代理")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("区县代理")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"选择"+t.cityType[t.subForm.city_type].text,prop:"city_data"}},[a("el-cascader",{attrs:{size:"large",options:t.base_city,placeholder:"请选择"+t.cityType[t.subForm.city_type].text,props:{checkStrictly:!0,label:"title",value:"id"}},on:{change:t.handleChange},model:{value:t.subForm.city_data,callback:function(e){t.$set(t.subForm,"city_data",e)},expression:"subForm.city_data"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关联用户",prop:"user_id"}},[a("el-tag",{staticClass:"cursor-pointer",on:{click:function(e){return t.toShowDialog("user")}}},[t._v(t._s(t.subForm.user_id?t.subForm.nickName||"用户ID "+t.subForm.user_id:"选择关联用户"))])],1),t._v(" "),a("el-form-item",{attrs:{label:"服务电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入服务电话"},model:{value:t.subForm.phone,callback:function(e){t.$set(t.subForm,"phone",e)},expression:"subForm.phone"}}),t._v(" "),a("lb-tool-tips",[t._v("代理商服务电话用于客户咨询，请填写有效的联系电话")])],1),t._v(" "),a("el-form-item",{attrs:{label:"平台抽成比例",prop:"balance"}},[a("el-input-number",{staticClass:"lb-input-number",attrs:{min:0,max:100,precision:0,controls:!1,placeholder:"请输入平台抽成比例"},model:{value:t.subForm.balance,callback:function(e){t.$set(t.subForm,"balance",e)},expression:"subForm.balance"}}),t._v(" "),a("block",[t._v("%")]),t._v(" "),a("lb-tool-tips",[a("p",{staticClass:"mb-sm"},[t._v("平台抽成取值0%到100%")]),t._v(" "),a("p",{staticClass:"mb-sm"},[t._v("\n            设置为0%，表示平台不抽成，除去技师和分销商的提成后，剩下都归代理商\n          ")]),t._v(" "),a("p",[t._v("\n            设置100%，则表示代理商无提成，除去技师和代理商的提成后，剩下都归平台\n          ")])])],1),t._v(" "),3!==t.subForm.city_type&&t.subForm.city_data.length>0?a("el-form-item",{attrs:{label:"关联上级代理",prop:""}},[a("el-tag",{staticClass:"cursor-pointer",on:{click:function(e){return t.toShowDialog("pid")}}},[t._v(t._s(t.subForm.admin_pid?t.subForm.admin_ptitle:"选择关联上级代理"))])],1):t._e(),t._v(" "),3!==t.subForm.city_type&&t.subForm.admin_pid?a("el-form-item",{attrs:{label:"上级代理抽成",prop:"level_balance"}},[a("el-input-number",{staticClass:"lb-input-number",attrs:{min:0,max:100,precision:0,controls:!1,placeholder:"请输入上级代理抽成"},model:{value:t.subForm.level_balance,callback:function(e){t.$set(t.subForm,"level_balance",e)},expression:"subForm.level_balance"}}),t._v(" "),a("block",[t._v("%")]),t._v(" "),a("lb-tool-tips",[t._v(t._s(t.cityType[t.subForm.city_type].text)+"代理需要分给上级代理的比例。例如"+t._s(t.cityType[t.subForm.city_type].text)+"代理可分得40%\n          "),a("div",{staticClass:"mt-sm"},[t._v("\n            如果设置了上级抽成10%，则"+t._s(t.cityType[t.subForm.city_type].text)+"代理只分得30%\n          ")])])],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDialog.sub=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("sub",1)}}},[t._v(t._s(t.$t("action.comfirm")))])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"关联用户",visible:t.showDialog.user,width:"800px",center:""},on:{"update:visible":function(e){return t.$set(t.showDialog,"user",e)}}},[a("el-form",{ref:"userForm",attrs:{inline:!0,model:t.searchForm.user,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"输入查询",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称/手机号"},model:{value:t.searchForm.user.nickName,callback:function(e){t.$set(t.searchForm.user,"nickName",e)},expression:"searchForm.user.nickName"}})],1),t._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getTableDataList(1,"user")}}},[t._v(t._s(t.$t("action.search")))]),t._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(e){return t.resetForm("user")}}},[t._v(t._s(t.$t("action.reset")))])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.user,expression:"loading.user"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.user,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(e){return t.handleTableChange(e,"user")}}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"avatarUrl",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("lb-image",{attrs:{src:t.row.avatarUrl}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}})],1),t._v(" "),a("lb-page",{attrs:{batch:!1,page:t.searchForm.user.page,pageSize:t.searchForm.user.limit,total:t.total.user},on:{handleSizeChange:function(e){return t.handleSizeChange(e,"user")},handleCurrentChange:function(e){return t.handleCurrentChange(e,"user")}}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDialog.user=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("user",2)}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"关联上级代理",visible:t.showDialog.pid,width:"800px",center:""},on:{"update:visible":function(e){return t.$set(t.showDialog,"pid",e)}}},[a("el-form",{ref:"pidForm",attrs:{inline:!0,model:t.searchForm.pid,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"输入查询",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号名称"},model:{value:t.searchForm.pid.username,callback:function(e){t.$set(t.searchForm.pid,"username",e)},expression:"searchForm.pid.username"}})],1),t._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getTableDataList(1,"pid")}}},[t._v(t._s(t.$t("action.search")))]),t._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(e){return t.resetForm("pid")}}},[t._v(t._s(t.$t("action.reset")))])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.pid,expression:"loading.pid"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.pid,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(e){return t.handleTableChange(e,"pid")}}},[a("el-table-column",{attrs:{prop:"user_id",label:"用户ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"用户昵称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"账号名称"}})],1),t._v(" "),a("lb-page",{attrs:{batch:!1,page:t.searchForm.pid.page,pageSize:t.searchForm.pid.limit,total:t.total.pid},on:{handleSizeChange:function(e){return t.handleSizeChange(e,"pid")},handleCurrentChange:function(e){return t.handleCurrentChange(e,"pid")}}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDialog.pid=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("pid",2)}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提成方式计算规则",visible:t.showDialog.rule,width:"800px",center:""},on:{"update:visible":function(e){return t.$set(t.showDialog,"rule",e)}}},[a("p",{staticClass:"mb-sm"},[t._v("例如：订单实付金额为100元（不含车费）")]),t._v(" "),a("p",{staticClass:"mb-sm"},[t._v("\n      1、技师提成比例70%，分销商提成比例为10%，平台提成比例为20%\n    ")]),t._v(" "),a("p",{staticClass:"mb-md c-warning",staticStyle:{"margin-left":"20px"}},[t._v("\n      当 技师提成比例 + 分销商提成比例 + 平台提成比例 >= 100% 时，代理商无提成\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm"},[t._v("\n      2、技师提成比例60%，分销商提成比例为5%，平台提成比例为10%\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-warning",staticStyle:{"margin-left":"20px"}},[t._v("\n      (1)、当代理商代理等级为省时：\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"50px"}},[t._v("\n      省代理商提成金额 = 100 * ( 100 - 60 - 5 - 10)%\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"167px"}},[t._v("= 100 * 25%")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"167px"}},[t._v("= 25元")]),t._v(" "),a("p",{staticClass:"mb-sm c-warning",staticStyle:{"margin-left":"20px"}},[t._v("\n      (2)、当代理商代理等级为城市时：\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-warning",staticStyle:{"margin-left":"50px"}},[t._v("\n      1)、上级省代理商提成比例25%\n    ")]),t._v(" "),a("p",{staticClass:"mb-md c-link",staticStyle:{"margin-left":"80px"}},[t._v("\n      当 技师提成比例 + 分销商提成比例 + 平台提成比例 + 上级省代理商提成比例\n      >= 100% 时，城市代理商无提成\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-warning",staticStyle:{"margin-left":"50px"}},[t._v("\n      2)、上级省代理商提成比例12%\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"80px"}},[t._v("\n      城市代理商提成金额 = 100 * ( 100 - 60 - 5 - 10 - 12)%\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"211px"}},[t._v("= 100 * 13%")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"211px"}},[t._v("= 13元")]),t._v(" "),a("p",{staticClass:"mb-sm c-warning",staticStyle:{"margin-left":"20px"}},[t._v("\n      (3)、当代理商代理等级为区县时：\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-warning",staticStyle:{"margin-left":"50px"}},[t._v("\n      1)、上级省代理商提成比例为15%，上级城市代理商提成比例10%\n    ")]),t._v(" "),a("p",{staticClass:"mb-md c-link",staticStyle:{"margin-left":"80px"}},[t._v("\n      当 技师提成比例 + 分销商提成比例 + 平台提成比例 + 上级省代理商提成比例 +\n      上级城市代理商提成比例 >= 100% 时，区县代理商无提成\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-warning",staticStyle:{"margin-left":"50px"}},[t._v("\n      2)、上级省代理商提成比例为8%，上级城市代理商提成比例5%\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"80px"}},[t._v("\n      区县代理商提成金额 = 100 * ( 100 - 60 - 5 - 10 - 8 - 5)%\n    ")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"211px"}},[t._v("= 100 * 12%")]),t._v(" "),a("p",{staticClass:"mb-sm c-link",staticStyle:{"margin-left":"211px"}},[t._v("= 12元")])])],1)},staticRenderFns:[]};var d=a("VU/8")(m,p,!1,function(t){a("lMP9")},null,null);e.default=d.exports},lMP9:function(t,e){}});